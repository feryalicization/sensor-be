-- MariaDB schema
CREATE TABLE IF NOT EXISTS sensors (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  node VARCHAR(64) NOT NULL,
  title VARCHAR(128) NOT NULL,
  unit VARCHAR(32) NOT NULL,
  sensorType VARCHAR(64) NOT NULL,
  icon VARCHAR(64) NOT NULL
);

CREATE TABLE IF NOT EXISTS last_measurements (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  sensor_id BIGINT NOT NULL,
  createdAt TIMESTAMP(3) NOT NULL,
  value VARCHAR(64),
  CONSTRAINT fk_sensor FOREIGN KEY (sensor_id)
    REFERENCES sensors(id) ON DELETE CASCADE
);
